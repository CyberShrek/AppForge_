{"version":3,"file":"Header-ab8fa677.js","sources":["../../../../../../../typescript/fragments/header/Header.ts"],"sourcesContent":["import {resolveCSS} from \"../../utils/resolver\"\nimport {popupList, popupTimeoutAction} from \"../../utils/modal\"\nimport {Fragment} from \"../abstract/Fragment\"\n\nexport default class Header extends Fragment{\n\n    constructor(location: FragmentLocation) {\n        super(location)\n        this.core = location.target\n        resolveCSS(\"header\")\n        this.activateResetButton()\n        this.activateInfoButton()\n        this.activateHelpButton()\n    }\n\n    private activateResetButton(){\n        this.activateButton(\"reset\", () => location.reload())\n    }\n\n    private activateInfoButton(){\n        this.activateButton(\"info\", button => {\n            popupList(\n                \"Информация о приложении\",\n                [\n                    \"Версия программы: \"          + button.getAttribute(\"version\"),\n                    \"Дата последнего обновления: \"+ button.getAttribute(\"update-date\"),\n                    \"Технолог: \"                  + button.getAttribute(\"technologist-name\")\n                ])})\n    }\n\n    private activateHelpButton(){\n        this.activateButton(\"help\", button => {\n            popupTimeoutAction(\n                \"Руководство\",\n                \"Скачать инструкцию\",\n                () => downloadUserManual(button.getAttribute(\"instruction-path\"))\n            )\n        })\n    }\n\n    private activateButton(buttonClassName: string, onClick: (clickedButton?: HTMLButtonElement) => void){\n        this.core.querySelector(\"button.\"+buttonClassName).addEventListener(\"click\",\n                event => onClick(event.target as HTMLButtonElement))\n    }\n}\n\nfunction downloadUserManual(href){\n    const link = document.createElement('a')\n    link.href = href\n    link.target = '_blank'\n    document.body.appendChild(link)\n    link.click()\n    document.body.removeChild(link)\n}"],"names":["Header","Fragment","constructor","location","super","this","core","target","resolveCSS","activateResetButton","activateInfoButton","activateHelpButton","activateButton","reload","button","popupList","getAttribute","popupTimeoutAction","href","link","document","createElement","body","appendChild","click","removeChild","downloadUserManual","buttonClassName","onClick","querySelector","addEventListener","event"],"mappings":"0HAIqB,MAAAA,UAAeC,EAEhCC,YAAYC,GACRC,MAAMD,GACNE,KAAKC,KAAOH,EAASI,OACrBC,EAAW,UACXH,KAAKI,sBACLJ,KAAKK,qBACLL,KAAKM,oBACR,CAEOF,sBACJJ,KAAKO,eAAe,SAAS,IAAMT,SAASU,UAC/C,CAEOH,qBACJL,KAAKO,eAAe,QAAQE,IACxBC,EACI,0BACA,CACI,qBAAgCD,EAAOE,aAAa,WACpD,+BAAgCF,EAAOE,aAAa,eACpD,aAAgCF,EAAOE,aAAa,sBACtD,GACb,CAEOL,qBACJN,KAAKO,eAAe,QAAQE,IACxBG,EACI,cACA,sBACA,IAWhB,SAA4BC,GACxB,MAAMC,EAAOC,SAASC,cAAc,KACpCF,EAAKD,KAAOA,EACZC,EAAKZ,OAAS,SACda,SAASE,KAAKC,YAAYJ,GAC1BA,EAAKK,QACLJ,SAASE,KAAKG,YAAYN,EAC9B,CAlBsBO,CAAmBZ,EAAOE,aAAa,sBAChD,GAER,CAEOJ,eAAee,EAAyBC,GAC5CvB,KAAKC,KAAKuB,cAAc,UAAUF,GAAiBG,iBAAiB,SAC5DC,GAASH,EAAQG,EAAMxB,SAClC"}