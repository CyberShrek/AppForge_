{"version":3,"file":"modal-a5a8d558.js","sources":["../../../../../../../typescript/utils/modal.ts"],"sourcesContent":["import swal, {SweetAlertResult} from \"sweetalert2\"\nimport {type SweetAlertOptions, type SweetAlertPosition} from \"sweetalert2\"\nimport {resolveCSS} from \"./resolver\"\n\nresolveCSS(\"third-party/sweetalert2\")\n\nlet mouseEvent: MouseEvent\ndocument.addEventListener(\"mousemove\", event => mouseEvent = event)\n\nexport function popupMessage(title?: string, text?: string){\n    popupSweetModal({title, text})\n}\n\nexport function popupList(title?: string, list?: string[], footer?: string){\n    popupSweetModal({\n        title,\n        html:`<ul>${list.map(item => `<li>${item}</li>`).join(\"\")}</ul>`,\n        footer\n    })\n}\n\nexport function popupTimeoutAction(text?: string, confirmButtonText?: string, onConfirm?: () => void){\n    popupSweetModal({\n        text, confirmButtonText,\n        showConfirmButton: true,\n        timer: 3000,\n        timerProgressBar: true,\n        backdrop: false\n    }).then(result => {\n        if(result.isConfirmed)\n            onConfirm()\n    })\n}\n\nexport function popupError(title?: string, text?: string){\n    popupSweetModal({title, text, icon: \"error\"})\n}\n\nexport function popupHttpResourceError(html?: string, footer?: string){\n    popupSweetModal({\n        title: \"Ошибка получения ресурса\",\n        icon: \"error\", html, footer\n    })\n}\n\nfunction popupSweetModal(options: SweetAlertOptions): Promise<SweetAlertResult>{\n    const position = getSweetMousePosition()\n    return swal.fire({\n        confirmButtonColor: \"var(--primary-color)\",\n        position,\n        showClass: {popup: 'animate__animated '+getAnimationShowClass(position)},\n        hideClass: {popup: 'animate__animated animate__zoomOut'},\n        showCloseButton: true,\n        allowEnterKey: false,\n        showConfirmButton: false,\n        ...options\n    })\n}\n\nfunction getSweetMousePosition(): SweetAlertPosition{\n    if(!mouseEvent) return \"center\"\n\n    const { clientX, clientY } = mouseEvent,\n        screenWidth = window.innerWidth || document.documentElement.clientWidth || document.body.clientWidth,\n        screenHeight = window.innerHeight || document.documentElement.clientHeight || document.body.clientHeight,\n        horizontalPosition = clientX <= screenWidth / 3 ? 'left' : clientX >= (screenWidth / 3) * 2 ? 'right' : 'center',\n        verticalPosition = clientY <= screenHeight / 3 ? 'top' : clientY >= (screenHeight / 3) * 2 ? 'bottom' : 'center',\n        position = `${verticalPosition}-${horizontalPosition}`\n\n    return position === \"top-center\" ? \"top\" : position === \"bottom-center\" ? \"bottom\" : position as SweetAlertPosition\n}\n\nfunction getAnimationShowClass(position: SweetAlertPosition): string{\n    switch (position) {\n        case \"top-left\"     : return \"animate__fadeInTopLeft\"\n        case \"top\"          : return \"animate__fadeInDown\"\n        case \"top-right\"    : return \"animate__fadeInTopRight\"\n        case \"center-left\"  : return \"animate__fadeInLeft\"\n        case \"center\"       : return \"animate__fadeIn\"\n        case \"center-right\" : return \"animate__fadeInRight\"\n        case \"bottom-left\"  : return \"animate__fadeInBottomLeft\"\n        case \"bottom\"       : return \"animate__fadeInUp\"\n        case \"bottom-right\" : return \"animate__fadeInBottomRight\"\n        default             : return \"\"\n    }\n}"],"names":["mouseEvent","popupMessage","title","text","popupSweetModal","popupList","list","footer","html","map","item","join","popupTimeoutAction","confirmButtonText","onConfirm","showConfirmButton","timer","timerProgressBar","backdrop","then","result","isConfirmed","popupHttpResourceError","icon","options","position","clientX","clientY","screenWidth","window","innerWidth","document","documentElement","clientWidth","body","screenHeight","innerHeight","clientHeight","getSweetMousePosition","swal","fire","Object","assign","confirmButtonColor","showClass","popup","getAnimationShowClass","hideClass","showCloseButton","allowEnterKey","resolveCSS","addEventListener","event"],"mappings":"6EAMA,IAAIA,EAGY,SAAAC,EAAaC,EAAgBC,GACzCC,EAAgB,CAACF,QAAOC,QAC5B,UAEgBE,EAAUH,EAAgBI,EAAiBC,GACvDH,EAAgB,CACZF,QACAM,KAAK,OAAOF,EAAKG,KAAIC,GAAQ,OAAOA,WAAaC,KAAK,WACtDJ,UAER,UAEgBK,EAAmBT,EAAeU,EAA4BC,GAC1EV,EAAgB,CACZD,OAAMU,oBACNE,mBAAmB,EACnBC,MAAO,IACPC,kBAAkB,EAClBC,UAAU,IACXC,MAAKC,IACDA,EAAOC,aACNP,GAAW,GAEvB,CAMgB,SAAAQ,EAAuBd,EAAeD,GAClDH,EAAgB,CACZF,MAAO,2BACPqB,KAAM,QAASf,OAAMD,UAE7B,CAEA,SAASH,EAAgBoB,GACrB,MAAMC,EAaV,WACI,IAAIzB,EAAY,MAAO,SAEvB,MAAM0B,QAAEA,EAAOC,QAAEA,GAAY3B,EACzB4B,EAAcC,OAAOC,YAAcC,SAASC,gBAAgBC,aAAeF,SAASG,KAAKD,YACzFE,EAAeN,OAAOO,aAAeL,SAASC,gBAAgBK,cAAgBN,SAASG,KAAKG,aAG5FZ,EAAW,GADQE,GAAWQ,EAAe,EAAI,MAAQR,GAAYQ,EAAe,EAAK,EAAI,SAAW,YADnFT,GAAWE,EAAc,EAAI,OAASF,GAAYE,EAAc,EAAK,EAAI,QAAU,WAI5G,MAAoB,eAAbH,EAA4B,MAAqB,kBAAbA,EAA+B,SAAWA,CACzF,CAxBqBa,GACjB,OAAOC,EAAKC,KAAIC,OAAAC,OAAA,CACZC,mBAAoB,uBACpBlB,WACAmB,UAAW,CAACC,MAAO,qBAAqBC,EAAsBrB,IAC9DsB,UAAW,CAACF,MAAO,sCACnBG,iBAAiB,EACjBC,eAAe,EACflC,mBAAmB,GAChBS,GAEX,CAeA,SAASsB,EAAsBrB,GAC3B,OAAQA,GACJ,IAAK,WAAiB,MAAO,yBAC7B,IAAK,MAAiB,MAAO,sBAC7B,IAAK,YAAiB,MAAO,0BAC7B,IAAK,cAAiB,MAAO,sBAC7B,IAAK,SAAiB,MAAO,kBAC7B,IAAK,eAAiB,MAAO,uBAC7B,IAAK,cAAiB,MAAO,4BAC7B,IAAK,SAAiB,MAAO,oBAC7B,IAAK,eAAiB,MAAO,6BAC7B,QAAsB,MAAO,GAErC,CAjFAyB,EAAW,2BAGXnB,SAASoB,iBAAiB,aAAaC,GAASpD,EAAaoD"}