{"version":3,"file":"debug.js","sources":["../../../../../../../typescript/fragments/abstract/Fragment.ts","../../../../../../../typescript/utils/DOMWizard.ts","../../../../../../../typescript/utils/misc.ts","../../../../../../../typescript/fragments/abstract/InputFragment.ts","../../../../../../../typescript/fragments/inputs/Text.ts","../../../../../../../typescript/utils/resolver.ts","../../../../../../../typescript/debug.ts","../../../../../../../typescript/fragments/report/content/TableFragment.ts"],"sourcesContent":["export abstract class Fragment {\r\n\r\n    private coreElement: HTMLElement\r\n    private insertCallback: (() => void)|void\r\n\r\n    protected set core(element: HTMLElement){\r\n        if(!this.coreElement){\r\n            this.coreElement = element\r\n            this.insertCallback = !!this.insertCallback ? this.insertCallback() : null\r\n        }\r\n        else throw new Error(\"The core cannot be reassigned\")\r\n    }\r\n    get core(): typeof this.coreElement{\r\n        return this.coreElement\r\n    }\r\n\r\n    protected constructor(location: FragmentLocation) {\r\n        this.insertCallback = () => {\r\n            if(!!location.position)\r\n                location.target.insertAdjacentElement(location.position, this.coreElement)\r\n            else\r\n                location.target.replaceWith(this.coreElement)\r\n        }\r\n    }\r\n\r\n    set class(className: string){\r\n        this.core.className = className\r\n    }\r\n    get class(): string{\r\n        return this.core.className\r\n    }\r\n    addClass   =(className: string) => this.core.classList.add(className)\r\n    removeClass=(className: string) => this.core.classList.remove(className)\r\n    toggleClass=(className: string) => this.core.classList.toggle(className)\r\n}","// Returns created element with specific tag name and attributes\r\nexport function createElement<T extends HTMLElement>(tagName: string, textContent: string = \"\", ...attributes: Attribute[]): T{\r\n    const element = document.createElement(tagName) as T\r\n    if(textContent) element.textContent = textContent\r\n    attributes?.forEach(attribute =>\r\n        element.setAttribute(\r\n            Object.keys(attribute)[0],\r\n            String(Object.values(attribute)[0])\r\n        )\r\n    )\r\n    return element\r\n}\r\n\r\nexport function createDivElement(...attributes: Attribute[]): HTMLDivElement{\r\n    return createElement(\"div\", \"\", ...attributes)\r\n}\r\n\r\nexport function createButtonElement(textContent: string = \"\", ...attributes: Attribute[]): HTMLButtonElement{\r\n    return createElement(\"button\", textContent, ...attributes)\r\n}\r\n\r\nexport function createInputElement(type: string, ...attributes: Attribute[]): HTMLInputElement{\r\n    return createElement(\"input\", \"\", {type}, ...attributes)\r\n}\r\n\r\nexport function createLabelElement(textContent: string = \"\", ...attributes: Attribute[]): HTMLLabelElement{\r\n    return createElement(\"label\", textContent, ...attributes)\r\n}\r\n\r\nexport function createImageElement(src: string = \"\", alt: string = \"not found\", ...attributes: Attribute[]): HTMLImageElement{\r\n    return createElement(\"img\", \"\", {src}, ...attributes)\r\n}\r\n\r\n// Removes all child elements\r\nexport function emptyElement(element: Element){\r\n    while(element.firstElementChild !== null)\r\n        element.firstElementChild.remove()\r\n}\r\n\r\n// Returns startName with serial number\r\nexport function generateUniqueId(startName: string = \"element\"){\r\n    let serialNumber = -1,\r\n        name: string\r\n\r\n    do name = startName +\"-\"+ serialNumber++\r\n    while (document.getElementById(name) !== null)\r\n\r\n    return name\r\n}","// Returns vararg items as a Set of the vararg items\r\nexport function setOf<T>(...items: T[]): Set<T>{\r\n    return new Set(items)\r\n}\r\n\r\n// Returns a Map of the vararg Pair entries\r\nexport function mapOf<K, V>(...entries: Pair<K, V>[]): Map<K, V>{\r\n    return new Map(entries.map(entry => [entry.first, entry.second]))\r\n}\r\n\r\n// Returns two arguments as a Pair object\r\nexport function pairOf<F, S>(first: F, second: S): Pair<F, S>{\r\n    return {first, second}\r\n}\r\n\r\n// Returns a basic number from gotten string if this is possible, or 0 if not\r\nexport function numberOf(word: string|number): number {\r\n    return isNaN(Number(word)) ? 0 : Number(word)\r\n}\r\n\r\n// Returns a Map consisting of the vararg Maps\r\nexport function concatMaps(...maps: Map<any, any>[]): Map<any, any>{\r\n    const buffer = []\r\n    maps.forEach(map => buffer.push(...map.entries()))\r\n    return new Map(buffer)\r\n}\r\n\r\n// Returns sorted by key Map\r\nexport function sortMap<K, V>(contentMap: Map<K, V>): Map<K, V>{\r\n    return new Map([...contentMap.entries()].sort(\r\n        (a : [K, V], b : [K, V]) : number => a[0] > b[0] ? 1 : a[0] < b[0] ? -1 : 0\r\n    ))\r\n}\r\n\r\nexport function filterMap<K, V>(map: Map<K, V>, filter: (value: V, key: K) => boolean): Map<K, V> {\r\n    return new Map(Array.from(map).filter(([key, value]) => filter(value, key)))\r\n}\r\n\r\nexport function stringifyDate(date: Date): string {\r\n    const year = date.getFullYear(),\r\n        month = date.getMonth() + 1,\r\n        day = date.getDate()\r\n    return `${year}-${month < 10 ? '0' : ''}${month}-${day < 10 ? '0' : ''}${day}`\r\n}\r\n\r\nexport function javaSetToSet(javaSet: string): Set<string>{\r\n    return setOf(...splitJavaCollection(javaSet))\r\n}\r\n\r\nexport function javaMapToMap(javaMap: string): Map<string, string>{\r\n    return mapOf(\r\n        ...splitJavaCollection(javaMap)\r\n        .map(pair => {\r\n            const entry = pair.split(\"=\")\r\n            return pairOf(entry[0], entry[1])\r\n        })\r\n    )\r\n}\r\n\r\nexport function splitJavaCollection(javaCollection: string): string[]{\r\n    return javaCollection\r\n        .slice(1, -1) // Removing '{' and '}' in the both sides of the string\r\n        .split(\", \")\r\n}\r\n\r\nexport function setCursorToLoading() {\r\n    document.documentElement.style.cursor = 'wait'\r\n}\r\n\r\nexport function setCursorToDefault() {\r\n    document.documentElement.style.cursor = 'default'\r\n}","import {Fragment} from \"./Fragment\"\r\n\r\nexport abstract class InputFragment<V> extends Fragment{\r\n\r\n    private _value: V\r\n    private valueEventCallbacks: ((value?: V) => void)[] = []\r\n    get value(): V {\r\n        return this._value\r\n    }\r\n    protected set value(value: V){\r\n        this._value = value\r\n        this.valueEventCallbacks.forEach(callback => callback(value))\r\n    }\r\n\r\n    protected constructor(protected readonly location: FragmentLocation) { super(location) }\r\n\r\n    subscribe(onValueEvent: (value: V) => void){\r\n        this.valueEventCallbacks.push(onValueEvent)\r\n        if(this.value)\r\n            onValueEvent(this.value)\r\n    }\r\n\r\n    protected debounce(callback: () => void, delay: number = 100): () => void {\r\n        let timeoutId: NodeJS.Timeout;\r\n        return () => {\r\n            clearTimeout(timeoutId)\r\n            timeoutId = setTimeout(callback, delay)\r\n        }\r\n    }\r\n}","import {createButtonElement, createDivElement, createInputElement} from \"../../utils/DOMWizard\"\r\nimport {InputFragment} from \"../abstract/InputFragment\"\r\n\r\nexport class Text extends InputFragment<string>{\r\n\r\n    private textInputElement    = createInputElement(\"text\")\r\n    private resetButtonElement = createButtonElement( \"❌\",{class: \"reset\"})\r\n\r\n    constructor(location: FragmentLocation) {\r\n        super(location)\r\n        this.core = createDivElement({class: \"text\"})\r\n        this.core.append(this.textInputElement, this.resetButtonElement)\r\n        this.textInputElement.addEventListener(\"input\",\r\n            this.debounce(() => this.value = this.textInputElement.value)\r\n        )\r\n        this.resetButtonElement.addEventListener(\"click\",\r\n            () => this.value = this.textInputElement.value = \"\"\r\n        )\r\n    }\r\n}","export function resolveCSS(name: string){\r\n    const source = `./css/${name}.css`\r\n    const headElement = document.querySelector(\"head\")\r\n    if(headElement.querySelector(`link[href=\"${source}\"]`) === null) {\r\n        const styleEl = document.createElement(\"link\")\r\n        styleEl.setAttribute(\"rel\", \"stylesheet\")\r\n        styleEl.setAttribute(\"href\", source)\r\n        headElement.appendChild(styleEl)\r\n    }\r\n}","import {TableFragment} from \"./fragments/report/content/TableFragment\";\r\nimport {setOf} from \"./utils/misc\"\r\nimport {resolveCSS} from \"./utils/resolver\"\r\nimport {Text} from \"./fragments/inputs/Text\";\r\n\r\nresolveCSS(\"global\")\r\nresolveCSS(\"inputs\")\r\nresolveCSS(\"states\")\r\nresolveCSS(\"third-party/animate\")\r\nresolveCSS(\"report/table\")\r\n\r\nconst debugElement: HTMLElement = document.querySelector(\"debug\")\r\ndebugElement.className = \"report\"\r\n\r\n// const textInput = new Text({target: debugElement})\r\n// textInput.subscribe(value => console.log(value))\r\n\r\nconst tableFragment = new TableFragment({\r\n    target: debugElement\r\n})\r\n\r\ntableFragment.setHead(setOf(\r\n    [{content: \"Primary\", colSpan: 2}, {content: \"Values\", colSpan: 5}],\r\n    [{content: \"1\", hasFilter: true}, {content: \"2\", hasFilter: true}, {content: \"1\", hasFilter: true}, {content: \"2\", hasFilter: true}, {content: \"3\", hasFilter: true}, {content: \"4\", hasFilter: true}, {content: \"5\", hasFilter: true}]\r\n))\r\ntableFragment.setBody(createContentMap(2, 5, 30))\r\ntableFragment.setTotal()\r\n\r\n\r\n\r\n// создание и заполнение MAP\r\nfunction createContentMap(primaryCellsSize: number, valueCellsSize: number, tableSize: number): TableBody {\r\n    const contentMap: TableBody = new Map();\r\n    for(let i : number = 0; i < tableSize; i++){\r\n        const primaryCells: string[] = [];\r\n        for(let j : number = 0; j < primaryCellsSize; j++) {\r\n            primaryCells[j] = (primaryCells.length > 0 ? primaryCells[j-1]+\".\" : \"\")+randomWord()\r\n        }\r\n        const valueCells: number[] = []\r\n        for(let j : number = 0; j < valueCellsSize; j++)\r\n            valueCells[j] = Math.floor(Math.random()*1000);\r\n        contentMap.set(primaryCells, valueCells);\r\n    }\r\n    return contentMap;\r\n}\r\n\r\n//рандомная строка\r\nfunction randomWord():string {\r\n    const words :string [] = ['Вахта','Вакцина','Отечество','Владения','Овца','Решительность',\r\n        'Рана','Опасность','Производство','Коммерция','Звание','Начало','Институт',\r\n        'Происшествие','Икона','Полнота','Консерва','Доставка','Адмирал','Ассамблея',\r\n        'Избыток','Муниципалитет','Руководство','Мышцы','Заболевание','Отзыв','Натура',\r\n        'Дискотека','Монахиня'];\r\n    return words[Math.floor(Math.random()*(words.length-1))];\r\n}","import {Fragment} from \"../../abstract/Fragment\"\r\nimport {emptyElement, createElement} from \"../../../utils/DOMWizard\"\r\nimport {concatMaps, filterMap, numberOf, sortMap} from \"../../../utils/misc\"\r\nimport {Text} from \"../../inputs/Text\";\r\n\r\nexport class TableFragment extends Fragment{\r\n\r\n    protected thead: HTMLTableSectionElement = createElement(\"thead\")\r\n    protected tbody: HTMLTableSectionElement = createElement(\"tbody\")\r\n    protected tfoot: HTMLTableSectionElement = createElement(\"tfoot\")\r\n\r\n    protected bodyContent: TableBody = new Map()\r\n\r\n    // Key is filtrated column, value is filter text value\r\n    protected filtersMap: Map<number, string> = new Map()\r\n\r\n    constructor(location: FragmentLocation) {\r\n        super(createElement(\"table\"), location)\r\n        this.coreElement.append(this.thead, this.tfoot, this.tbody)\r\n    }\r\n\r\n    setHead(head: TableHead){\r\n        emptyElement(this.thead)\r\n        head.forEach(headRow => {\r\n            let columnId: number = 0\r\n            this.thead.appendChild(\r\n                this.createHTMLRow(headRow.map(\r\n                    headCell => {\r\n                        const htmlHeadCell = this.createHTMLHeadCell(headCell.content, headCell.rowSpan, headCell.colSpan)\r\n                        if (headCell.hasFilter === true) this.setFilter(htmlHeadCell, columnId)\r\n                        columnId = columnId + htmlHeadCell.colSpan\r\n                        return htmlHeadCell\r\n                    })\r\n                )\r\n            )\r\n        })\r\n    }\r\n\r\n    setBody(bodyContent: TableBody){\r\n        emptyElement(this.tbody)\r\n        this.bodyContent = new Map()\r\n        this.addBody(bodyContent)\r\n    }\r\n\r\n    addBody(bodyContent: TableBody){\r\n        this.bodyContent = concatMaps(this.bodyContent, bodyContent)\r\n        sortMap(this.filterBodyContent(this.bodyContent)).forEach((valueCells, primaryCells) =>\r\n            this.tbody.append(this.createHTMLRow(\r\n                primaryCells.map(cell => this.createHTMLCell(cell, \"primary\")).concat(\r\n                    valueCells.map(cell => this.createHTMLCell(String(cell))))))\r\n        )\r\n        this.groupPrimaryCells()\r\n    }\r\n\r\n    setTotal(total?: ValueCell[]){\r\n        if(!total){\r\n            total = []\r\n            this.bodyContent.forEach(values=> values.forEach((value, i) => {\r\n                total[i] = total[i] ? numberOf(total[i]) + numberOf(value) : value\r\n            }))\r\n        }\r\n        this.tfoot.querySelector(\".total\")?.remove()\r\n        this.tfoot.appendChild(this.createHTMLTotalRow(total.map(value => this.createHTMLCell(value))))\r\n    }\r\n\r\n    private createHTMLTotalRow(htmlCells: HTMLTableCellElement[]): HTMLTableRowElement{\r\n        const primaryTotalCell = this.createHTMLCell(\"Всего\")\r\n        primaryTotalCell.colSpan = this.tbody.querySelector(\"tr\").querySelectorAll(\".primary\").length\r\n        return this.createHTMLRow([primaryTotalCell, ...htmlCells], \"total\")\r\n    }\r\n\r\n    private createHTMLRow(htmlCells: HTMLTableCellElement[], cssClass?: string): HTMLTableRowElement{\r\n        const tr: HTMLTableRowElement = createElement(\"tr\", \"\", {class: cssClass})\r\n        tr.append(...htmlCells)\r\n        return tr\r\n    }\r\n\r\n    private createHTMLHeadCell(cellContent: string, rowSpan: number = 1, colSpan: number = 1): HTMLTableCellElement{\r\n        return createElement(\"th\", cellContent, {rowspan: rowSpan}, {colspan: colSpan})\r\n    }\r\n\r\n    private createHTMLCell(cellContent: string|number, cssClass?: string): HTMLTableCellElement {\r\n        return createElement(\"td\", String(cellContent), {class: cssClass})\r\n    }\r\n\r\n    private setFilter(htmlHeadCell: HTMLTableCellElement, targetColumnId: number){\r\n        const filterFragment = new Text({target: htmlHeadCell})\r\n        filterFragment.subscribe(value => {\r\n            this.filtersMap.set(targetColumnId, value)\r\n            this.setBody(this.bodyContent)\r\n        })\r\n    }\r\n\r\n    private filterBodyContent(bodyContent: TableBody): TableBody{\r\n        return filterMap(bodyContent, (valueCells, primaryCells) => {\r\n            const cellTexts = primaryCells.concat(valueCells.map(v => String(v)))\r\n            for (let i = 0; i < cellTexts.length; i++) {\r\n                const filterText = this.filtersMap.get(i)\r\n                if(!cellTexts[i].toLowerCase().includes(filterText ? filterText.toLowerCase() : \"\"))\r\n                    return false\r\n            }\r\n            return true\r\n        })\r\n    }\r\n\r\n    private groupPrimaryCells(startHtmlRow: HTMLTableRowElement = this.tbody.firstElementChild as HTMLTableRowElement,\r\n                              endHtmlRow: HTMLTableRowElement = this.tbody.lastElementChild as HTMLTableRowElement,\r\n                              nesting: number = 0){\r\n        if(startHtmlRow === endHtmlRow) return\r\n        const primaryHtmlCell = startHtmlRow.cells[nesting]\r\n        if(!primaryHtmlCell?.classList?.contains(\"primary\")) return\r\n        let nextHtmlRow = startHtmlRow\r\n        do {\r\n            nextHtmlRow = nextHtmlRow.nextElementSibling as HTMLTableRowElement\r\n            const nextPrimaryHtmlCell = nextHtmlRow.cells[0]\r\n            if(primaryHtmlCell.textContent === nextPrimaryHtmlCell.textContent){\r\n                primaryHtmlCell.rowSpan++\r\n                nextPrimaryHtmlCell.hidden = true\r\n            } else {\r\n                this.groupPrimaryCells(startHtmlRow, nextHtmlRow, nesting + 1)\r\n                this.groupPrimaryCells(nextHtmlRow, endHtmlRow)\r\n                return\r\n            }\r\n        }\r\n        while (nextHtmlRow !== endHtmlRow)\r\n    }\r\n}"],"names":["Fragment","core","element","this","coreElement","Error","insertCallback","constructor","location","addClass","className","classList","add","removeClass","remove","toggleClass","toggle","position","target","insertAdjacentElement","replaceWith","class","createElement","tagName","textContent","attributes","document","forEach","attribute","setAttribute","Object","keys","String","values","emptyElement","firstElementChild","numberOf","word","isNaN","Number","InputFragment","value","_value","valueEventCallbacks","callback","super","subscribe","onValueEvent","push","debounce","delay","timeoutId","clearTimeout","setTimeout","Text","textInputElement","type","createInputElement","resetButtonElement","createButtonElement","createDivElement","append","addEventListener","resolveCSS","name","source","headElement","querySelector","styleEl","appendChild","debugElement","tableFragment","thead","tbody","tfoot","bodyContent","Map","filtersMap","setHead","head","headRow","columnId","createHTMLRow","map","headCell","htmlHeadCell","createHTMLHeadCell","content","rowSpan","colSpan","hasFilter","setFilter","setBody","addBody","contentMap","maps","buffer","entries","concatMaps","filterBodyContent","sort","a","b","valueCells","primaryCells","cell","createHTMLCell","concat","groupPrimaryCells","setTotal","total","i","_a","createHTMLTotalRow","htmlCells","primaryTotalCell","querySelectorAll","length","cssClass","tr","cellContent","rowspan","colspan","targetColumnId","set","filter","cellTexts","v","filterText","get","toLowerCase","includes","Array","from","key","startHtmlRow","endHtmlRow","lastElementChild","nesting","primaryHtmlCell","cells","contains","nextHtmlRow","nextElementSibling","nextPrimaryHtmlCell","hidden","randomWord","words","Math","floor","random","items","Set","setOf","primaryCellsSize","valueCellsSize","tableSize","j","createContentMap"],"mappings":"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"}