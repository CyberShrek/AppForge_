{"version":3,"file":"Fragment-1c4a9340.js","sources":["../../../../../../../typescript/utils/modal.ts","../../../../../../../typescript/fragments/abstract/Fragment.ts"],"sourcesContent":["import swal, {SweetAlertResult} from \"sweetalert2\"\nimport {type SweetAlertOptions, type SweetAlertPosition} from \"sweetalert2\"\nimport {resolveCSS} from \"./resolver\"\n\nresolveCSS(\"third-party/sweetalert2\")\n\nlet mouseEvent: MouseEvent\ndocument.addEventListener(\"mousemove\", event => mouseEvent = event)\n\nexport function popupMessage(title?: string, text?: string){\n    popupSweetModal({title, text})\n}\n\nexport function popupList(title?: string, list?: string[], footer?: string){\n    popupSweetModal({\n        title,\n        html:`<ul>${list.map(item => `<li>${item}</li>`).join(\"\")}</ul>`,\n        footer\n    })\n}\n\nexport function popupTimeoutAction(text?: string, confirmButtonText?: string, onConfirm?: () => void){\n    popupSweetModal({\n        text, confirmButtonText,\n        showConfirmButton: true,\n        timer: 3000,\n        timerProgressBar: true,\n        backdrop: false\n    }).then(result => {\n        if(result.isConfirmed)\n            onConfirm()\n    })\n}\n\nexport function popupError(title?: string, text?: string){\n    popupSweetModal({title, text, icon: \"error\"})\n}\n\nexport function popupHttpDataError(html?: string, footer?: string){\n    popupSweetModal({\n        title: \"Ошибка получения данных\",\n        icon: \"error\", html, footer\n    })\n}\n\nfunction popupSweetModal(options: SweetAlertOptions): Promise<SweetAlertResult>{\n    const position = getSweetMousePosition()\n    return swal.fire({\n        confirmButtonColor: \"var(--primary-color)\",\n        position,\n        showClass: {popup: 'animate__animated '+getAnimationShowClass(position)},\n        hideClass: {popup: 'animate__animated animate__zoomOut'},\n        showCloseButton: true,\n        allowEnterKey: false,\n        showConfirmButton: false,\n        ...options\n    })\n}\n\nfunction getSweetMousePosition(): SweetAlertPosition{\n    if(!mouseEvent) return \"center\"\n\n    const { clientX, clientY } = mouseEvent,\n        screenWidth = window.innerWidth || document.documentElement.clientWidth || document.body.clientWidth,\n        screenHeight = window.innerHeight || document.documentElement.clientHeight || document.body.clientHeight,\n        horizontalPosition = clientX <= screenWidth / 3 ? 'left' : clientX >= (screenWidth / 3) * 2 ? 'right' : 'center',\n        verticalPosition = clientY <= screenHeight / 3 ? 'top' : clientY >= (screenHeight / 3) * 2 ? 'bottom' : 'center',\n        position = `${verticalPosition}-${horizontalPosition}`\n\n    return position === \"top-center\" ? \"top\" : position === \"bottom-center\" ? \"bottom\" : position as SweetAlertPosition\n}\n\nfunction getAnimationShowClass(position: SweetAlertPosition): string{\n    switch (position) {\n        case \"top-left\"     : return \"animate__fadeInTopLeft\"\n        case \"top\"          : return \"animate__fadeInDown\"\n        case \"top-right\"    : return \"animate__fadeInTopRight\"\n        case \"center-left\"  : return \"animate__fadeInLeft\"\n        case \"center\"       : return \"animate__fadeIn\"\n        case \"center-right\" : return \"animate__fadeInRight\"\n        case \"bottom-left\"  : return \"animate__fadeInBottomLeft\"\n        case \"bottom\"       : return \"animate__fadeInUp\"\n        case \"bottom-right\" : return \"animate__fadeInBottomRight\"\n        default             : return \"\"\n    }\n}","export abstract class Fragment {\n\n    private coreElement: HTMLElement\n    private insertCallback: (() => void)|void\n\n    protected set core(element: HTMLElement){\n        if(!this.coreElement){\n            this.coreElement = element\n            this.insertCallback = !!this.insertCallback ? this.insertCallback() : null\n        }\n        else throw new Error(\"The core cannot be reassigned\")\n    }\n    get core(): typeof this.coreElement{\n        return this.coreElement\n    }\n\n    protected constructor(location: FragmentLocation) {\n        this.insertCallback = () => {\n            if(!!location.position)\n                location.target.insertAdjacentElement(location.position, this.coreElement)\n            else\n                location.target.replaceWith(this.coreElement)\n        }\n    }\n\n    set class(className: string){\n        this.core.className = className\n    }\n    get class(): string{\n        return this.core.className\n    }\n    addClass   =(className: string) => this.core.classList.add(className)\n    removeClass=(className: string) => this.core.classList.remove(className)\n    toggleClass=(className: string) => this.core.classList.toggle(className)\n}"],"names":["mouseEvent","popupList","title","list","footer","popupSweetModal","html","map","item","join","popupTimeoutAction","text","confirmButtonText","onConfirm","showConfirmButton","timer","timerProgressBar","backdrop","then","result","isConfirmed","popupHttpDataError","icon","options","position","clientX","clientY","screenWidth","window","innerWidth","document","documentElement","clientWidth","body","screenHeight","innerHeight","clientHeight","getSweetMousePosition","swal","fire","Object","assign","confirmButtonColor","showClass","popup","getAnimationShowClass","hideClass","showCloseButton","allowEnterKey","resolveCSS","addEventListener","event","Fragment","core","element","this","coreElement","Error","insertCallback","constructor","location","addClass","className","classList","add","removeClass","remove","toggleClass","toggle","target","insertAdjacentElement","replaceWith","class"],"mappings":"6EAMA,IAAIA,WAOYC,EAAUC,EAAgBC,EAAiBC,GACvDC,EAAgB,CACZH,QACAI,KAAK,OAAOH,EAAKI,KAAIC,GAAQ,OAAOA,WAAaC,KAAK,WACtDL,UAER,UAEgBM,EAAmBC,EAAeC,EAA4BC,GAC1ER,EAAgB,CACZM,OAAMC,oBACNE,mBAAmB,EACnBC,MAAO,IACPC,kBAAkB,EAClBC,UAAU,IACXC,MAAKC,IACDA,EAAOC,aACNP,GAAW,GAEvB,CAMgB,SAAAQ,EAAmBf,EAAeF,GAC9CC,EAAgB,CACZH,MAAO,0BACPoB,KAAM,QAAShB,OAAMF,UAE7B,CAEA,SAASC,EAAgBkB,GACrB,MAAMC,EAaV,WACI,IAAIxB,EAAY,MAAO,SAEvB,MAAMyB,QAAEA,EAAOC,QAAEA,GAAY1B,EACzB2B,EAAcC,OAAOC,YAAcC,SAASC,gBAAgBC,aAAeF,SAASG,KAAKD,YACzFE,EAAeN,OAAOO,aAAeL,SAASC,gBAAgBK,cAAgBN,SAASG,KAAKG,aAG5FZ,EAAW,GADQE,GAAWQ,EAAe,EAAI,MAAQR,GAAYQ,EAAe,EAAK,EAAI,SAAW,YADnFT,GAAWE,EAAc,EAAI,OAASF,GAAYE,EAAc,EAAK,EAAI,QAAU,WAI5G,MAAoB,eAAbH,EAA4B,MAAqB,kBAAbA,EAA+B,SAAWA,CACzF,CAxBqBa,GACjB,OAAOC,EAAKC,KAAIC,OAAAC,OAAA,CACZC,mBAAoB,uBACpBlB,WACAmB,UAAW,CAACC,MAAO,qBAAqBC,EAAsBrB,IAC9DsB,UAAW,CAACF,MAAO,sCACnBG,iBAAiB,EACjBC,eAAe,EACflC,mBAAmB,GAChBS,GAEX,CAeA,SAASsB,EAAsBrB,GAC3B,OAAQA,GACJ,IAAK,WAAiB,MAAO,yBAC7B,IAAK,MAAiB,MAAO,sBAC7B,IAAK,YAAiB,MAAO,0BAC7B,IAAK,cAAiB,MAAO,sBAC7B,IAAK,SAAiB,MAAO,kBAC7B,IAAK,eAAiB,MAAO,uBAC7B,IAAK,cAAiB,MAAO,4BAC7B,IAAK,SAAiB,MAAO,oBAC7B,IAAK,eAAiB,MAAO,6BAC7B,QAAsB,MAAO,GAErC,CAjFAyB,EAAW,2BAGXnB,SAASoB,iBAAiB,aAAaC,GAASnD,EAAamD,UCPvCC,EAKJC,SAAKC,GACf,GAAIC,KAAKC,YAIJ,MAAM,IAAIC,MAAM,iCAHjBF,KAAKC,YAAcF,EACnBC,KAAKG,eAAmBH,KAAKG,eAAiBH,KAAKG,iBAAmB,IAG7E,CACGL,WACA,OAAOE,KAAKC,WACf,CAEDG,YAAsBC,GAetBL,KAAAM,SAAaC,GAAsBP,KAAKF,KAAKU,UAAUC,IAAIF,GAC3DP,KAAAU,YAAaH,GAAsBP,KAAKF,KAAKU,UAAUG,OAAOJ,GAC9DP,KAAAY,YAAaL,GAAsBP,KAAKF,KAAKU,UAAUK,OAAON,GAhB1DP,KAAKG,eAAiB,KACbE,EAASpC,SACVoC,EAASS,OAAOC,sBAAsBV,EAASpC,SAAU+B,KAAKC,aAE9DI,EAASS,OAAOE,YAAYhB,KAAKC,YAAY,CAExD,CAEGgB,UAAMV,GACNP,KAAKF,KAAKS,UAAYA,CACzB,CACGU,YACA,OAAOjB,KAAKF,KAAKS,SACpB"}